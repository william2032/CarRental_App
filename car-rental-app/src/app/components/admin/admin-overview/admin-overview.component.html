<div *ngIf="stats; else loading">
  <p class="text-gray-600 mb-6">
    Monitor overall platform performance including total cars, bookings, revenue, and recent activities.
  </p>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
    <div class="bg-white p-6 rounded shadow text-center">
      <h3 class="text-gray-500 text-sm mb-2">Total Cars</h3>
      <p class="text-3xl font-bold text-blue-600">{{ stats.totalVehicles }}</p>
    </div>
    <div class="bg-white p-6 rounded shadow text-center">
      <h3 class="text-gray-500 text-sm mb-2">Total Bookings</h3>
      <p class="text-3xl font-bold text-blue-600">{{ stats.totalBookings }}</p>
    </div>
    <div class="bg-white p-6 rounded shadow text-center">
      <h3 class="text-gray-500 text-sm mb-2">Pending Bookings</h3>
      <p class="text-3xl font-bold text-blue-600">{{ stats.pendingBookings }}</p>
    </div>
    <div class="bg-white p-6 rounded shadow text-center">
      <h3 class="text-gray-500 text-sm mb-2">Completed Bookings</h3>
      <p class="text-3xl font-bold text-blue-600">{{ stats.completedBookings }}</p>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white p-6 rounded shadow">
      <h3 class="text-lg font-semibold mb-4">Recent Bookings</h3>
      <ul class="space-y-3">
        <li *ngFor="let booking of stats.recentBookings">
          <div class="flex justify-between items-center">
            <div>
              <p class="font-medium">{{ booking.vehicleTitle }}</p>
              <p class="text-sm text-gray-500">{{ booking.date }}</p>
            </div>
            <div class="text-right">
              <p class="text-gray-700">{{ booking.amount | currency:'Ksh' }}</p>
              <span class="text-sm px-2 py-1 rounded bg-gray-200">{{ booking.status }}</span>
            </div>
          </div>
        </li>
      </ul>
    </div>

    <div class="bg-white p-6 rounded shadow text-center space-y-4">
      <h3 class="text-lg font-semibold mb-2">Monthly Revenue</h3>
      <p class="text-4xl font-bold text-blue-600">KES {{ stats.totalRevenue }}</p>
      <p class="text-sm text-gray-500">Revenue for current month</p>
    </div>
  </div>
</div>

<ng-template #loading>
  <p>Loading dashboard stats...</p>
</ng-template>
